(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(e,t,n){e.exports=n(37)},30:function(e,t,n){},31:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),o=n.n(i),c=(n(30),n(5)),s=n(6),u=n(8),l=n(7),h=n(45),f=n(19),m=(n(31),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(h.a,{bg:"light",className:"d-flex justify-content-center ist-navbar"},r.a.createElement(f.a,{className:"ist-navbar-brand"},"ISS Tracker"))}}]),n}(a.Component)),d=n(41),v=n(42),p=n(43),b=n(44),g=n(23),S={"backend-base-server":"https://marceloleite2604-iss-tracker.herokuapp.com"},I=Object(g.a)({"api-base-path":"/api/v1"},S),j=function(){function e(){Object(c.a)(this,e),this.BASE_API=I["backend-base-server"]+I["api-base-path"],this._informationSubject=void 0,this._routeMapUrl=void 0,this._informationSubject=new b.a,this._routeMapUrl=new b.a}return Object(s.a)(e,[{key:"getInformation",value:function(){var e=this;fetch("".concat(this.BASE_API,"/iss-information")).then((function(t){return e.handleErrors(t)})).then((function(e){return e.json()})).then((function(t){return e._informationSubject.next(t)})).catch((function(t){console.log(t.message),e._informationSubject.next(void 0)}))}},{key:"handleErrors",value:function(e){if(!e.ok)throw Error(e.statusText);return e}},{key:"getRouteMapUrl",value:function(){var e=this;fetch("".concat(this.BASE_API,"/map"),{mode:"cors"}).then((function(t){return e.handleErrors(t)})).then((function(e){return e.blob()})).then((function(t){return e._routeMapUrl.next(URL.createObjectURL(t))})).catch((function(t){console.log(t.message),e._routeMapUrl.next(void 0)}))}},{key:"information",get:function(){return this._informationSubject.asObservable()}},{key:"routeMapUrl",get:function(){return this._routeMapUrl.asObservable()}}]),e}(),O=n(39),E=n(40),y=(n(34),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).initialState={src:""},a.state=void 0,a.props=void 0,a.props=e,a.state=a.initialState,a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.src$.subscribe((function(t){return e.setState({src:t})}))}},{key:"renderPlaceholder",value:function(){return r.a.createElement("div",{className:"ist-iwp-div"},r.a.createElement(O.a,{className:"ist-iwp-spinner",animation:"border",role:"status"}),r.a.createElement(E.a,{src:this.createPlaceholderImage(this.props.dimensions),fluid:!0}))}},{key:"renderImage",value:function(){return r.a.createElement(E.a,{src:this.state.src,fluid:!0})}},{key:"createPlaceholderImage",value:function(e){return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('\n        <svg \n            width="'.concat(e.width,'" \n            height="').concat(e.height,'" \n            xmlns="http://www.w3.org/2000/svg" \n            viewBox="0 0 ').concat(e.width," ").concat(e.height,'" \n            preserveAspectRatio="none">\n            <g>\n                <rect \n                    width="').concat(e.width,'" \n                    height="').concat(e.height,'"\n                    opacity="0.0" />\n            </g>\n        </svg>\n        '))}},{key:"render",value:function(){return this.state.src?this.renderImage():this.renderPlaceholder()}}]),n}(a.Component)),k=n(46),_={width:640,height:421},w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,{})).issInformationService=new j,e.ISS_INFORMATION_UNAVAILABLE_IMAGE_PATH="iss-info-unavailable.png",e._routeMapUrl$=void 0,e._redirectRouteMapUrl$=void 0,e._routeMapUrl$=e.issInformationService.routeMapUrl,e._redirectRouteMapUrl$=new b.a,e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._routeMapUrl$.subscribe((function(t){return e.handleRouteMapUrlUpdate(t)})),this.issInformationService.getRouteMapUrl()}},{key:"handleRouteMapUrlUpdate",value:function(e){var t=this.ISS_INFORMATION_UNAVAILABLE_IMAGE_PATH;void 0!==e&&(t=e),this._redirectRouteMapUrl$.next(t)}},{key:"render",value:function(){return r.a.createElement(k.a,null,r.a.createElement(y,{src$:this._redirectRouteMapUrl$.asObservable(),dimensions:_}))}}]),n}(a.Component),A=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,{})).initialState={issInformation:{averageSpeed:0,positions:[]}},e.issInformationService=void 0,e._issInformation$=void 0,e.state=void 0,e.issInformationService=new j,e._issInformation$=e.issInformationService.information,e.state=e.initialState,e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._issInformation$.subscribe((function(t){return e.setState({issInformation:t})})),this.issInformationService.getInformation()}},{key:"formatAverageSpeed",value:function(e){return e.toLocaleString(void 0,{maximumFractionDigits:2})}},{key:"renderAverageSpeed",value:function(){return r.a.createElement("p",null,"ISS is flying at an astonishing speed of \n                ".concat(this.formatAverageSpeed(this.state.issInformation.averageSpeed)," km/h."))}},{key:"renderAverageSpeedNotAvailable",value:function(){return r.a.createElement("p",null,"We are trying to calculate ISS average speed. Please try again in a few minutes.")}},{key:"render",value:function(){return void 0===this.state.issInformation?this.renderAverageSpeedNotAvailable():this.renderAverageSpeed()}}]),n}(a.Component),M=(n(35),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(v.a,{className:"ist-row"},r.a.createElement(p.a,{className:"d-flex justify-content-center"},r.a.createElement(w,null))),r.a.createElement(v.a,{className:"ist-row"},r.a.createElement(p.a,{className:"d-flex justify-content-center"},r.a.createElement(A,null))))}}]),n}(a.Component)),U=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(M,null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(36);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.2fe5f1d5.chunk.js.map