(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(19);n.o(r,"TransmissionState")&&n.d(t,"TransmissionState",(function(){return r.TransmissionState}));var a=n(20);n.o(a,"TransmissionState")&&n.d(t,"TransmissionState",(function(){return a.TransmissionState}));var i=n(21);n.o(i,"TransmissionState")&&n.d(t,"TransmissionState",(function(){return i.TransmissionState}));var o=n(22);n.d(t,"TransmissionState",(function(){return o.a}))},,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.WAITING=0]="WAITING",e[e.RECEIVED=1]="RECEIVED"}(r||(r={}))},,,,,,function(e,t,n){e.exports=n(43)},,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(10),o=n.n(i),c=(n(33),n(3)),s=n(4),u=n(8),l=n(7),f=n(51),m=(n(34),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement(f.a,{className:"d-flex justify-content-center ist-navbar"},a.a.createElement("span",{className:"ist-navbar-brand"},"ISS Tracker"))}}]),n}(r.Component)),v=n(47),d=n(48),h=n(49),p=n(50),b=n(27),g={"backend-base-server":"https://marceloleite2604-iss-tracker.herokuapp.com"},S=Object(b.a)({"api-base-path":"/api/v1"},g),j=function(){function e(){Object(c.a)(this,e),this.BASE_API=S["backend-base-server"]+S["api-base-path"]}return Object(s.a)(e,[{key:"handleErrors",value:function(e){if(!e.ok)throw Error(e.statusText);return e}}]),e}(),E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this))._informationSubject=void 0,e._routeMapUrl=void 0,e._informationSubject=new p.a,e._routeMapUrl=new p.a,e}return Object(s.a)(n,[{key:"getInformation",value:function(){var e=this;fetch("".concat(this.BASE_API,"/iss-information")).then((function(t){return e.handleErrors(t)})).then((function(e){return e.json()})).then((function(t){return e._informationSubject.next(t)})).catch((function(t){console.log(t.message),e._informationSubject.next(void 0)}))}},{key:"getRouteMapUrl",value:function(){var e=this;fetch("".concat(this.BASE_API,"/map"),{mode:"cors"}).then((function(t){return e.handleErrors(t)})).then((function(e){return e.blob()})).then((function(t){return e._routeMapUrl.next(URL.createObjectURL(t))})).catch((function(t){console.log(t.message),e._routeMapUrl.next(void 0)}))}},{key:"information",get:function(){return this._informationSubject.asObservable()}},{key:"routeMapUrl",get:function(){return this._routeMapUrl.asObservable()}}]),n}(j),O=n(45),I=n(46),y=(n(37),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).initialState={src:""},r.state=void 0,r.props=void 0,r.props=e,r.state=r.initialState,r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.src$.subscribe((function(t){return e.setState({src:t})}))}},{key:"renderPlaceholder",value:function(){return a.a.createElement("div",{className:"ist-iwp-div"},a.a.createElement(O.a,{className:"ist-iwp-spinner",animation:"border",role:"status"}),a.a.createElement(I.a,{src:this.createPlaceholderImage(this.props.dimensions),fluid:!0}))}},{key:"renderImage",value:function(){return a.a.createElement(I.a,{src:this.state.src,fluid:!0})}},{key:"createPlaceholderImage",value:function(e){return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('\n        <svg \n            width="'.concat(e.width,'" \n            height="').concat(e.height,'" \n            xmlns="http://www.w3.org/2000/svg" \n            viewBox="0 0 ').concat(e.width," ").concat(e.height,'" \n            preserveAspectRatio="none">\n            <g>\n                <rect \n                    width="').concat(e.width,'" \n                    height="').concat(e.height,'"\n                    opacity="0.0" />\n            </g>\n        </svg>\n        '))}},{key:"render",value:function(){return this.state.src?this.renderImage():this.renderPlaceholder()}}]),n}(r.Component)),_=(n(38),{width:640,height:421}),k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,{})).issInformationService=new E,e.ISS_INFORMATION_UNAVAILABLE_IMAGE_PATH="iss-info-unavailable.png",e._routeMapUrl$=void 0,e._redirectRouteMapUrl$=void 0,e._routeMapUrl$=e.issInformationService.routeMapUrl,e._redirectRouteMapUrl$=new p.a,e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._routeMapUrl$.subscribe((function(t){return e.handleRouteMapUrlUpdate(t)})),this.issInformationService.getRouteMapUrl()}},{key:"handleRouteMapUrlUpdate",value:function(e){var t=this.ISS_INFORMATION_UNAVAILABLE_IMAGE_PATH;void 0!==e&&(t=e),this._redirectRouteMapUrl$.next(t)}},{key:"render",value:function(){return a.a.createElement("div",{className:"iss-route-map"},a.a.createElement(y,{src$:this._redirectRouteMapUrl$.asObservable(),dimensions:_}))}}]),n}(r.Component),A=n(13),w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,{})).initialState={state:A.TransmissionState.WAITING},e.issInformationService=void 0,e._issInformation$=void 0,e.state=void 0,e.issInformationService=new E,e._issInformation$=e.issInformationService.information,e.state=e.initialState,e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._issInformation$.subscribe((function(t){return e.setState({state:A.TransmissionState.RECEIVED,issInformation:t})})),this.issInformationService.getInformation()}},{key:"formatAverageSpeed",value:function(e){return e.toLocaleString(void 0,{maximumFractionDigits:2})}},{key:"renderAverageSpeed",value:function(){var e,t;return a.a.createElement("p",null,"ISS is flying at an astonishing speed of \n                ".concat(this.formatAverageSpeed(null!==(e=null===(t=this.state.issInformation)||void 0===t?void 0:t.averageSpeed)&&void 0!==e?e:0)," km/h."))}},{key:"renderAverageSpeedNotAvailable",value:function(){return a.a.createElement("p",null,"We are trying to calculate ISS average speed. Please try again in a few minutes.")}},{key:"renderPlaceholder",value:function(){return a.a.createElement("p",null,"We are calculating ISS average speed. Please wait...")}},{key:"render",value:function(){return this.state.state===A.TransmissionState.WAITING?this.renderPlaceholder():void 0===this.state.issInformation?this.renderAverageSpeedNotAvailable():this.renderAverageSpeed()}}]),n}(r.Component),P=(n(39),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement(v.a,null,a.a.createElement(d.a,{className:"ist-row"},a.a.createElement(h.a,{className:"d-flex justify-content-center"},a.a.createElement(k,null))),a.a.createElement(d.a,{className:"ist-row"},a.a.createElement(h.a,{className:"d-flex justify-content-center"},a.a.createElement(w,null))))}}]),n}(r.Component)),M=(n(40),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this))._gitPropertiesSubject=void 0,e._gitPropertiesSubject=new p.a,e}return Object(s.a)(n,[{key:"getProperties",value:function(){var e=this;fetch("".concat(this.BASE_API,"/git")).then((function(t){return e.handleErrors(t)})).then((function(e){return e.json()})).then((function(t){return e._gitPropertiesSubject.next(t)})).catch((function(t){console.log(t.message),e._gitPropertiesSubject.next(void 0)}))}},{key:"gitProperties",get:function(){return this._gitPropertiesSubject.asObservable()}}]),n}(j)),U=(n(41),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,{})).gitService=void 0,e._gitProperties$=void 0,e.state=void 0,e.gitService=new M,e._gitProperties$=e.gitService.gitProperties,e.state={},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._gitProperties$.subscribe((function(t){console.log("Properties retrieved."),e.setState({gitProperties:t})})),console.log("Requesting properties."),this.gitService.getProperties()}},{key:"render",value:function(){return void 0===this.state.gitProperties?a.a.createElement(a.a.Fragment,null):a.a.createElement("div",{className:"d-flex flex-column justify-content-end version-presenter"},a.a.createElement("div",{className:"d-flex justify-content-end"},a.a.createElement("span",null,"commit id: ".concat(this.state.gitProperties.commitIdAbbrev))),a.a.createElement("div",{className:"d-flex justify-content-end"},a.a.createElement("span",null,"compiled at: ".concat(this.state.gitProperties.commitTime))))}}]),n}(r.Component)),N=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("footer",{className:"d-flex justify-content-end footer "},a.a.createElement(U,null))}}]),n}(r.Component),T=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(m,null),a.a.createElement(P,null),a.a.createElement(N,null))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(42);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[28,1,2]]]);
//# sourceMappingURL=main.3c16eada.chunk.js.map